<template>
  <div class="spa-navigation-demo">
    <div class="demo-header">
      <span class="icon">ğŸš€</span>
      <span class="title">SPAå¯¼èˆªæµç¨‹</span>
      <span class="subtitle">ä»ç‚¹å‡»åˆ°æ¸²æŸ“çš„å®Œæ•´æ—…ç¨‹</span>
    </div>

    <div class="intro-text">
      æƒ³è±¡ä½ åœ¨<span class="highlight">é¤å…ç‚¹èœ</span>ï¼šä»çœ‹èœå•ã€ä¸‹å•ã€å¨æˆ¿å‡†å¤‡ã€æœ€åä¸Šèœã€‚SPAå¯¼èˆªä¹Ÿæ˜¯è¿™æ ·ï¼Œç”¨æˆ·è§¦å‘åç»è¿‡ä¸€ç³»åˆ—æ­¥éª¤ï¼Œæœ€ç»ˆæŠŠæ–°"èœå“"ï¼ˆé¡µé¢ï¼‰ç«¯åˆ°ä½ é¢å‰ã€‚
    </div>

    <div class="flow-container">
      <div
        v-for="(step, index) in steps"
        :key="index"
        class="flow-step"
      >
        <div class="step-number">{{ index + 1 }}</div>
        <div class="step-content">
          <div class="step-title">{{ step.title }}</div>
          <div class="step-desc">{{ step.desc }}</div>
        </div>
      </div>
    </div>

    <div class="highlight-box">
      <h5>âš¡ å…³é”®ä¼˜åŒ–ç‚¹</h5>
      <div class="optimization-tips">
        <div class="tip-item">
          <span class="tip-icon">ğŸ¯</span>
          <div class="tip-content">
            <div class="tip-title">è·¯ç”±æ‡’åŠ è½½</div>
            <div class="tip-desc">æŒ‰éœ€åŠ è½½é¡µé¢ç»„ä»¶ï¼Œå‡å°‘åˆå§‹åŒ…ä½“ç§¯</div>
          </div>
        </div>
        <div class="tip-item">
          <span class="tip-icon">ğŸ›¡ï¸</span>
          <div class="tip-content">
            <div class="tip-title">å®ˆå«é¢„åŠ è½½</div>
            <div class="tip-desc">åœ¨beforeEnterä¸­é¢„åŠ è½½æ•°æ®ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</div>
          </div>
        </div>
        <div class="tip-item">
          <span class="tip-icon">âš¡</span>
          <div class="tip-content">
            <div class="tip-title">è¿‡æ¸¡åŠ¨ç”»</div>
            <div class="tip-desc">æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼Œè®©å¯¼èˆªæ›´æµç•…</div>
          </div>
        </div>
      </div>
    </div>

    <div class="info-box">
      <span class="icon">ğŸ’¡</span>
      <strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong>æ•´ä¸ªæµç¨‹åœ¨æµè§ˆå™¨å†…å®Œæˆï¼Œæ— éœ€æœåŠ¡å™¨å‚ä¸ï¼Œä½“éªŒå¦‚åŸç”Ÿåº”ç”¨èˆ¬æµç•…ã€‚è¿™å°±æ˜¯SPAç›¸æ¯”ä¼ ç»ŸMPAçš„æœ€å¤§ä¼˜åŠ¿ã€‚
    </div>
  </div>
</template>

<script setup>
const steps = [
  { title: 'è§¦å‘å¯¼èˆª', desc: 'ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–è°ƒç”¨ router.push()' },
  { title: 'URL å˜åŒ–', desc: 'æµè§ˆå™¨åœ°å€æ æ›´æ–°ï¼ŒHistory API è®°å½•çŠ¶æ€' },
  { title: 'è·¯ç”±åŒ¹é…', desc: 'è·¯ç”±å™¨æ ¹æ®URLåŒ¹é…å¯¹åº”çš„è·¯ç”±é…ç½®' },
  { title: 'å®ˆå«éªŒè¯', desc: 'æ‰§è¡Œå…¨å±€ã€è·¯ç”±ç‹¬äº«ã€ç»„ä»¶å†…å®ˆå«' },
  { title: 'ç»„ä»¶åŠ è½½', desc: 'æ‡’åŠ è½½çš„ç»„ä»¶å¼‚æ­¥åŠ è½½å¹¶è§£æ' },
  { title: 'ç»„ä»¶æ¸²æŸ“', desc: 'æ–°ç»„ä»¶æŒ‚è½½åˆ° DOMï¼Œé¡µé¢æ›´æ–°' },
  { title: 'åç½®é’©å­', desc: 'æ‰§è¡Œ afterEach é’©å­ï¼Œå®Œæˆå¯¼èˆª' }
]
</script>

<style scoped>
.spa-navigation-demo {
  border: 1px solid var(--vp-c-divider);
  border-radius: 6px;
  background: var(--vp-c-bg-soft);
  padding: 0.75rem;
  margin: 0.5rem 0;
  
  
}

.demo-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.demo-header .icon { font-size: 1.25rem; }
.demo-header .title { font-weight: bold; font-size: 1rem; }
.demo-header .subtitle { color: var(--vp-c-text-2); font-size: 0.85rem; margin-left: 0.5rem; }

.intro-text {
  font-size: 0.9rem;
  color: var(--vp-c-text-2);
  line-height: 1.6;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: var(--vp-c-bg);
  border-radius: 6px;
}

.intro-text .highlight {
  color: var(--vp-c-brand-1);
  font-weight: 500;
}

.flow-container {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.flow-step {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.75rem;
  background: var(--vp-c-bg);
  border-radius: 6px;
  border-left: 3px solid var(--vp-c-brand);
  transition: all 0.2s;
}

.flow-step:hover {
  background: var(--vp-c-bg-soft);
  transform: translateX(4px);
}

.step-number {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--vp-c-brand);
  color: white;
  border-radius: 50%;
  font-size: 0.85rem;
  font-weight: 600;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.step-title {
  font-size: 0.85rem;
  font-weight: 500;
  color: var(--vp-c-text-1);
  margin-bottom: 0.25rem;
}

.step-desc {
  font-size: 0.75rem;
  color: var(--vp-c-text-3);
  line-height: 1.4;
}

.highlight-box {
  background: var(--vp-c-bg);
  border-radius: 6px;
  padding: 0.75rem;
  border: 1px solid var(--vp-c-divider);
  margin-bottom: 1rem;
}

.highlight-box h5 {
  margin: 0 0 0.75rem 0;
  font-size: 0.85rem;
  color: var(--vp-c-text-2);
}

.optimization-tips {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.tip-item {
  display: flex;
  gap: 0.75rem;
  padding: 0.5rem;
  background: var(--vp-c-bg-soft);
  border-radius: 6px;
}

.tip-icon {
  font-size: 1.25rem;
  flex-shrink: 0;
}

.tip-content {
  flex: 1;
}

.tip-title {
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--vp-c-text-1);
  margin-bottom: 0.25rem;
}

.tip-desc {
  font-size: 0.7rem;
  color: var(--vp-c-text-3);
  line-height: 1.4;
}

.info-box {
  background: var(--vp-c-bg-alt);
  padding: 0.75rem;
  border-radius: 6px;
  font-size: 0.85rem;
  color: var(--vp-c-text-2);
}

.info-box .icon { margin-right: 0.25rem; }

@media (max-width: 768px) {
  .flow-step {
    padding: 0.5rem;
  }

  .step-number {
    width: 24px;
    height: 24px;
    font-size: 0.75rem;
  }
}
</style>
