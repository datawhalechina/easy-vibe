<template>
  <div class="backend-languages-demo">
    <div class="demo-header">
      <span class="icon">ğŸ› ï¸</span>
      <span class="title">åç«¯è¯­è¨€å·¥å…·ç®±</span>
      <span class="subtitle">é€‰æ‹©åˆé€‚çš„å·¥å…·å®Œæˆå·¥ä½œ</span>
    </div>

    <div class="intro-text">
      æƒ³è±¡ä½ æ˜¯ä¸€å<span class="highlight">å»ºç­‘å·¥äºº</span>ï¼šæ¬ç –ç”¨é“é“²ï¼Œç Œå¢™ç”¨ç“¦åˆ€ï¼Œè£…ä¿®ç”¨åˆ·å­ã€‚åç«¯è¯­è¨€ä¹Ÿä¸€æ ·ï¼Œä¸åŒåœºæ™¯é€‚åˆä¸åŒçš„"å·¥å…·"ã€‚æ²¡æœ‰æœ€å¥½çš„è¯­è¨€ï¼Œåªæœ‰æœ€åˆé€‚çš„é€‰æ‹©ã€‚
    </div>

    <div class="language-grid">
      <div
        v-for="lang in languages"
        :key="lang.name"
        class="language-card"
        :class="{ active: selectedLang === lang.name }"
        @click="selectedLang = lang.name"
      >
        <div class="lang-icon">{{ lang.icon }}</div>
        <div class="lang-name">{{ lang.name }}</div>
        <div class="lang-metaphor">{{ lang.metaphor }}</div>
        <div class="lang-description">{{ lang.description }}</div>
      </div>
    </div>

    <Transition name="fade">
      <div v-if="selectedLang" class="lang-detail">
        <div class="detail-header">
          <span class="detail-icon">{{ getCurrentLang().icon }}</span>
          <span class="detail-title">{{ getCurrentLang().name }}</span>
        </div>

        <div class="detail-sections">
          <div class="detail-section">
            <h6>ğŸ¯ é€‚ç”¨åœºæ™¯</h6>
            <ul>
              <li v-for="scenario in getCurrentLang().scenarios" :key="scenario">
                {{ scenario }}
              </li>
            </ul>
          </div>

          <div class="detail-section">
            <h6>âœ… ä¼˜åŠ¿</h6>
            <ul>
              <li v-for="pro in getCurrentLang().pros" :key="pro">{{ pro }}</li>
            </ul>
          </div>

          <div class="detail-section">
            <h6>âŒ åŠ£åŠ¿</h6>
            <ul>
              <li v-for="con in getCurrentLang().cons" :key="con">{{ con }}</li>
            </ul>
          </div>
        </div>
      </div>
    </Transition>

    <div v-if="!selectedLang" class="hint-text">
      ğŸ‘† ç‚¹å‡»ä¸Šæ–¹ä»»æ„è¯­è¨€ï¼ŒæŸ¥çœ‹è¯¦ç»†è¯´æ˜
    </div>

    <div class="info-box">
      <span class="icon">ğŸ’¡</span>
      <strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong>é€‰æ‹©è¯­è¨€æ—¶ï¼Œå…ˆæƒ³æ¸…æ¥š"æˆ‘è¦è§£å†³ä»€ä¹ˆé—®é¢˜"ï¼Œè€Œä¸æ˜¯"å“ªä¸ªè¯­è¨€æœ€ç«"ã€‚åˆåˆ›å…¬å¸é€‰ Python/Node.js å¿«é€ŸéªŒè¯ï¼Œå¤§å‚é€‰ Java/Go ä¿è¯ç¨³å®šï¼Œæ¸¸æˆå¼€å‘é€‰ C++ è¿½æ±‚æè‡´æ€§èƒ½ã€‚
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const selectedLang = ref('Go')

const languages = [
  {
    name: 'Go',
    icon: 'ğŸ¹',
    metaphor: 'ç”µåŠ¨èºä¸åˆ€',
    description: 'äº‘åŸç”Ÿæ—¶ä»£çš„é«˜æ•ˆå·¥å…·',
    scenarios: [
      'å¾®æœåŠ¡æ¶æ„ï¼ˆDockerã€K8s éƒ½æ˜¯ Go å†™çš„ï¼‰',
      'é«˜å¹¶å‘ API æœåŠ¡',
      'DevOps å·¥å…·å¼€å‘',
      'åŒºå—é“¾åŸºç¡€è®¾æ–½'
    ],
    pros: [
      'å¹¶å‘æ€§èƒ½ä¼˜ç§€ï¼ˆGoroutine è½»é‡çº§åç¨‹ï¼‰',
      'ç¼–è¯‘å¿«ï¼Œéƒ¨ç½²ç®€å•ï¼ˆå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ï¼‰',
      'è¯­æ³•ç®€æ´ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“',
      'å†…å­˜å ç”¨ä½ï¼Œæ€§èƒ½æ¥è¿‘ C++'
    ],
    cons: [
      'ç”Ÿæ€ä¸å¦‚ Java/Python æˆç†Ÿ',
      'é”™è¯¯å¤„ç†ç¹çï¼ˆif err != nilï¼‰',
      'æ³›å‹æ”¯æŒè¾ƒå¼±ï¼ˆGo 1.18+ å¼•å…¥ï¼‰',
      'ä¸é€‚åˆ CPU å¯†é›†å‹ä»»åŠ¡'
    ]
  },
  {
    name: 'Python',
    icon: 'ğŸ',
    metaphor: 'ç‘å£«å†›åˆ€',
    description: 'ä»€ä¹ˆéƒ½èƒ½å¹²çš„å…¨èƒ½å·¥å…·',
    scenarios: [
      'AI/æœºå™¨å­¦ä¹ ï¼ˆPyTorchã€TensorFlowï¼‰',
      'æ•°æ®åˆ†æå’Œå¤„ç†',
      'å¿«é€ŸåŸå‹å¼€å‘',
      'è‡ªåŠ¨åŒ–è„šæœ¬'
    ],
    pros: [
      'è¯­æ³•æç®€ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“',
      'AI ç”Ÿæ€æ— ä¸ä¼¦æ¯”',
      'å¼€å‘é€Ÿåº¦å¿«ï¼Œä»£ç é‡å°‘',
      'åº“ä¸°å¯Œï¼Œå‡ ä¹ä»»ä½•åŠŸèƒ½éƒ½æœ‰ç°æˆæ–¹æ¡ˆ'
    ],
    cons: [
      'è¿è¡Œé€Ÿåº¦æ…¢ï¼ˆæ¯” Go/Java æ…¢ 10-100 å€ï¼‰',
      'GIL é™åˆ¶å¤šçº¿ç¨‹æ€§èƒ½',
      'æ‰“åŒ…éƒ¨ç½²å¤æ‚ï¼ˆä¾èµ–åœ°ç‹±ï¼‰',
      'åŠ¨æ€ç±»å‹ï¼Œè¿è¡Œæ—¶é”™è¯¯å¤š'
    ]
  },
  {
    name: 'Java',
    icon: 'â˜•',
    metaphor: 'é‡å‹æŒ–æ˜æœº',
    description: 'ä¼ä¸šçº§å¼€å‘çš„ç¨³å®šé€‰æ‹©',
    scenarios: [
      'å¤§å‹ä¼ä¸šç³»ç»Ÿï¼ˆé“¶è¡Œã€ä¿é™©ã€ç”µå•†ï¼‰',
      'Android åº”ç”¨å¼€å‘',
      'å¤§æ•°æ®å¤„ç†ï¼ˆHadoopã€Sparkï¼‰',
      'å¾®æœåŠ¡æ¶æ„ï¼ˆSpring Cloudï¼‰'
    ],
    pros: [
      'ç”Ÿæ€æå…¶æˆç†Ÿï¼Œæ¡†æ¶å®Œå¤‡',
      'å¼ºç±»å‹ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥',
      'å¤šçº¿ç¨‹æ¨¡å‹æˆç†Ÿ',
      'è·¨å¹³å°ï¼ŒJVM ä¼˜åŒ–å¼ºå¤§'
    ],
    cons: [
      'ä»£ç å†—é•¿ï¼Œæ ·æ¿ä»£ç å¤š',
      'å¯åŠ¨æ…¢ï¼Œå†…å­˜å ç”¨é«˜',
      'å­¦ä¹ æ›²çº¿é™¡å³­ï¼ˆSpring å…¨å®¶æ¡¶ï¼‰',
      'ç‰ˆæœ¬æ›´æ–°å¿«ï¼Œå…¼å®¹æ€§é—®é¢˜'
    ]
  },
  {
    name: 'Node.js',
    icon: 'ğŸ’š',
    metaphor: 'ä¸‡èƒ½æ‰³æ‰‹',
    description: 'å‰åç«¯ç»Ÿä¸€çš„åˆ©å™¨',
    scenarios: [
      'å…¨æ ˆ Web åº”ç”¨ï¼ˆReact + Node.jsï¼‰',
      'å®æ—¶ç³»ç»Ÿï¼ˆèŠå¤©åº”ç”¨ã€åä½œå·¥å…·ï¼‰',
      'Serverlessï¼ˆAWS Lambdaã€Vercelï¼‰',
      'I/O å¯†é›†å‹ API'
    ],
    pros: [
      'å‰åç«¯ç»Ÿä¸€è¯­è¨€ï¼Œå‡å°‘åˆ‡æ¢æˆæœ¬',
      'NPM ç”Ÿæ€åºå¤§ï¼Œä¸–ç•Œæœ€å¤§åŒ…ä»“åº“',
      'é€‚åˆ I/O å¯†é›†å‹åº”ç”¨',
      'äº‹ä»¶é©±åŠ¨ï¼Œéé˜»å¡ I/O'
    ],
    cons: [
      'å•çº¿ç¨‹ï¼ŒCPU å¯†é›†å‹æ€§èƒ½å·®',
      'å›è°ƒåœ°ç‹±ï¼ˆè™½ç„¶ async/await æœ‰æ”¹å–„ï¼‰',
      'åŠ¨æ€ç±»å‹ï¼Œè¿è¡Œæ—¶é”™è¯¯å¤š',
      'ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜å¤š'
    ]
  },
  {
    name: 'Rust',
    icon: 'ğŸ¦€',
    metaphor: 'æ¿€å…‰åˆ‡å‰²æœº',
    description: 'å†…å­˜å®‰å…¨çš„ç³»ç»Ÿçº§å·¥å…·',
    scenarios: [
      'ç³»ç»Ÿç¼–ç¨‹ï¼ˆæ“ä½œç³»ç»Ÿã€æ•°æ®åº“ï¼‰',
      'åŒºå—é“¾ï¼ˆSolanaã€Polkadotï¼‰',
      'WebAssemblyï¼ˆå‰ç«¯é«˜æ€§èƒ½è®¡ç®—ï¼‰',
      'åŸºç¡€è®¾æ–½ï¼ˆAWS Firecrackerï¼‰'
    ],
    pros: [
      'å†…å­˜å®‰å…¨ï¼Œç¼–è¯‘æ—¶ä¿è¯æ— æ³„æ¼',
      'æ€§èƒ½æ¥è¿‘ C++',
      'ç°ä»£åŒ–è¯­æ³•ï¼Œé›¶æˆæœ¬æŠ½è±¡',
      'æ—  GCï¼Œè¿è¡Œæ—¶å¼€é”€ä½'
    ],
    cons: [
      'å­¦ä¹ æ›²çº¿æå…¶é™¡å³­',
      'ç¼–è¯‘æ—¶é—´é•¿',
      'ç”Ÿæ€ä¸å¦‚ Go/Java æˆç†Ÿ',
      'å¼€å‘é€Ÿåº¦æ…¢'
    ]
  },
  {
    name: 'C++',
    icon: 'âš¡',
    metaphor: 'å·¥ä¸šç”µé’»',
    description: 'é«˜æ€§èƒ½è®¡ç®—çš„åŸºçŸ³',
    scenarios: [
      'æ¸¸æˆå¼€å‘ï¼ˆUnreal Engineï¼‰',
      'é«˜é¢‘äº¤æ˜“ï¼ˆé‡‘èç³»ç»Ÿï¼‰',
      'æµè§ˆå™¨å¼•æ“ï¼ˆChrome V8ï¼‰',
      'AI æ¡†æ¶åº•å±‚ï¼ˆPyTorchã€TFï¼‰'
    ],
    pros: [
      'æ€§èƒ½æè‡´ï¼Œæ— è¯­è¨€èƒ½è¶…è¶Š',
      'åº•å±‚æ§åˆ¶åŠ›å¼ºï¼Œç›´æ¥æ“ä½œå†…å­˜',
      'æ¸¸æˆå¼€å‘æ ‡å‡†',
      'ç”Ÿæ€æˆç†Ÿ'
    ],
    cons: [
      'å­¦ä¹ æ›²çº¿æå…¶é™¡å³­',
      'å†…å­˜ç®¡ç†å¤æ‚ï¼ˆæ˜“æ³„æ¼ï¼‰',
      'å¼€å‘æ•ˆç‡ä½',
      'ä¸é€‚åˆ Web å¼€å‘'
    ]
  }
]

const getCurrentLang = () => {
  return languages.find(l => l.name === selectedLang.value) || languages[0]
}
</script>

<style scoped>
.backend-languages-demo {
  border: 1px solid var(--vp-c-divider);
  border-radius: 6px;
  background: var(--vp-c-bg-soft);
  padding: 0.75rem;
  margin: 0.5rem 0;
  
  
}

.demo-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.demo-header .icon {
  font-size: 1.25rem;
}

.demo-header .title {
  font-weight: bold;
  font-size: 1rem;
}

.demo-header .subtitle {
  color: var(--vp-c-text-2);
  font-size: 0.85rem;
  margin-left: 0.5rem;
}

.intro-text {
  font-size: 0.9rem;
  color: var(--vp-c-text-2);
  line-height: 1.6;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: var(--vp-c-bg);
  border-radius: 6px;
}

.intro-text .highlight {
  color: var(--vp-c-brand-1);
  font-weight: 500;
}

.language-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 0.75rem;
  padding: 0.75rem;
  background: var(--vp-c-bg);
  border-radius: 6px;
  margin-bottom: 1rem;
}

.language-card {
  padding: 0.75rem;
  background: var(--vp-c-bg-soft);
  border: 2px solid transparent;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-align: center;
}

.language-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.language-card.active {
  border-color: var(--vp-c-brand);
  background: var(--vp-c-bg);
}

.lang-icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
}

.lang-name {
  font-weight: 600;
  color: var(--vp-c-text-1);
  margin-bottom: 0.25rem;
}

.lang-metaphor {
  font-size: 0.8rem;
  color: var(--vp-c-brand-1);
  margin-bottom: 0.5rem;
  font-weight: 500;
}

.lang-description {
  font-size: 0.8rem;
  color: var(--vp-c-text-2);
  line-height: 1.4;
}

.hint-text {
  text-align: center;
  font-size: 0.85rem;
  color: var(--vp-c-text-3);
  margin: 0.75rem 0;
}

.lang-detail {
  background: var(--vp-c-bg);
  border-radius: 6px;
  padding: 0.75rem;
  margin-top: 0.75rem;
  border: 1px solid var(--vp-c-divider);
}

.detail-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.detail-icon {
  font-size: 1.5rem;
}

.detail-title {
  font-weight: 600;
  font-size: 1rem;
  color: var(--vp-c-text-1);
}

.detail-sections {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.detail-section h6 {
  margin: 0 0 0.5rem 0;
  font-size: 0.9rem;
  color: var(--vp-c-text-1);
}

.detail-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.detail-section li {
  padding: 0.25rem 0;
  font-size: 0.85rem;
  color: var(--vp-c-text-2);
  line-height: 1.4;
  position: relative;
  padding-left: 1rem;
}

.detail-section li::before {
  content: 'â–¸';
  position: absolute;
  left: 0;
  color: var(--vp-c-brand);
  font-weight: bold;
}

.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
  transform: translateY(-10px);
}

.info-box {
  background: var(--vp-c-bg-alt);
  padding: 0.75rem;
  border-radius: 6px;
  font-size: 0.85rem;
  color: var(--vp-c-text-2);
  margin-top: 0.75rem;
}

.info-box .icon {
  margin-right: 0.25rem;
}
</style>
