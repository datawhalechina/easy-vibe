<template>
  <div class="agent-challenges-demo">
    <div class="challenges-grid">
      <div
        v-for="(challenge, index) in challenges"
        :key="challenge.title"
        class="challenge-card"
        :class="{ active: selectedChallenge === index }"
        @click="selectedChallenge = index"
      >
        <div class="challenge-icon">{{ challenge.icon }}</div>
        <div class="challenge-title">{{ challenge.title }}</div>
        <div class="challenge-level">
          <span
            v-for="i in challenge.difficulty"
            :key="i"
            class="difficulty-star"
          >â­</span>
        </div>
      </div>
    </div>

    <div class="challenge-detail">
      <div class="detail-header">
        <span class="detail-icon">{{ challenges[selectedChallenge].icon }}</span>
        <h3>{{ challenges[selectedChallenge].title }}</h3>
      </div>

      <div class="detail-sections">
        <div class="detail-section">
          <h4>ğŸ“– é—®é¢˜æè¿°</h4>
          <p>{{ challenges[selectedChallenge].description }}</p>
        </div>

        <div class="detail-section">
          <h4>ğŸ’¡ ä¸ºä»€ä¹ˆå›°éš¾ï¼Ÿ</h4>
          <ul>
            <li v-for="reason in challenges[selectedChallenge].reasons" :key="reason">
              {{ reason }}
            </li>
          </ul>
        </div>

        <div class="detail-section">
          <h4>ğŸ”§ è§£å†³æ–¹æ¡ˆ</h4>
          <div class="solutions">
            <div
              v-for="solution in challenges[selectedChallenge].solutions"
              :key="solution.title"
              class="solution-item"
            >
              <div class="solution-title">{{ solution.title }}</div>
              <div class="solution-desc">{{ solution.description }}</div>
            </div>
          </div>
        </div>

        <div class="detail-section">
          <h4>ğŸ“Š å½“å‰è¿›å±•</h4>
          <div class="progress-item">
            <div class="progress-label">è§£å†³è¿›åº¦</div>
            <div class="progress-bar">
              <div
                class="progress-fill"
                :style="{ width: challenges[selectedChallenge].progress + '%' }"
              ></div>
            </div>
            <div class="progress-value">{{ challenges[selectedChallenge].progress }}%</div>
          </div>
        </div>

        <div class="detail-section">
          <h4>ğŸ”— ç›¸å…³èµ„æº</h4>
          <div class="resources">
            <a
              v-for="resource in challenges[selectedChallenge].resources"
              :key="resource.title"
              :href="resource.url"
              target="_blank"
              class="resource-link"
            >
              {{ resource.title }}
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const selectedChallenge = ref(0)

const challenges = [
  {
    title: 'ä»»åŠ¡è§„åˆ’',
    icon: 'ğŸ“‹',
    difficulty: 5,
    description: 'Agent éœ€è¦å°†å¤æ‚çš„ç”¨æˆ·ä»»åŠ¡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„æ­¥éª¤ï¼Œå¹¶åŠ¨æ€è°ƒæ•´è®¡åˆ’ã€‚è¿™è¦æ±‚ Agent å…·å¤‡å¼ºå¤§çš„æ¨ç†èƒ½åŠ›å’Œå‰ç»æ€§æ€ç»´ã€‚',
    reasons: [
      'ä»»åŠ¡åˆ†è§£éœ€è¦æ·±åº¦ç†è§£ç”¨æˆ·æ„å›¾',
      'é•¿æœŸè§„åˆ’å®¹æ˜“åç¦»ç›®æ ‡',
      'åŠ¨æ€è°ƒæ•´è®¡åˆ’å¢åŠ äº†å¤æ‚æ€§',
      'ç¼ºä¹åé¦ˆæ—¶éš¾ä»¥è¯„ä¼°è¿›åº¦'
    ],
    solutions: [
      {
        title: 'å±‚æ¬¡åŒ–è§„åˆ’',
        description: 'å°†å¤§ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡ï¼Œå­ä»»åŠ¡å†åˆ†è§£ä¸ºå…·ä½“æ­¥éª¤ï¼Œå½¢æˆå±‚æ¬¡ç»“æ„ã€‚'
      },
      {
        title: 'åæ€æœºåˆ¶',
        description: 'å®šæœŸå›é¡¾å·²å®Œæˆçš„æ­¥éª¤ï¼Œè¯„ä¼°è®¡åˆ’çš„æœ‰æ•ˆæ€§ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥ã€‚'
      },
      {
        title: 'å¤–éƒ¨è®°å¿†',
        description: 'ä½¿ç”¨ todo.md ç­‰æ–‡ä»¶è®°å½•è®¡åˆ’ï¼Œå°†ç›®æ ‡ä¿æŒåœ¨ Agent çš„"è§†é‡"ä¸­ã€‚'
      }
    ],
    progress: 40,
    resources: [
      { title: 'ReAct è®ºæ–‡', url: 'https://arxiv.org/abs/2210.03629' },
      { title: 'Tree of Thoughts', url: 'https://arxiv.org/abs/2305.10601' }
    ]
  },
  {
    title: 'ä¸Šä¸‹æ–‡ç®¡ç†',
    icon: 'ğŸ§ ',
    difficulty: 5,
    description: 'Agent åœ¨å¤šæ¬¡è¿­ä»£ä¸­ä¼šç§¯ç´¯å¤§é‡ä¸Šä¸‹æ–‡ï¼Œå¦‚ä½•æœ‰æ•ˆç®¡ç†ã€å‹ç¼©å’Œæ£€ç´¢è¿™äº›ä¿¡æ¯æ˜¯ä¸€ä¸ªå·¨å¤§æŒ‘æˆ˜ã€‚',
    reasons: [
      'ä¸Šä¸‹æ–‡é•¿åº¦å—é™ï¼ˆ128K-200Kï¼‰',
      'é•¿ä¸Šä¸‹æ–‡ä¼šé™ä½æ¨¡å‹æ€§èƒ½',
      'é‡è¦ä¿¡æ¯å¯èƒ½è¢«"æ·¹æ²¡"',
      'æˆæœ¬éšé•¿åº¦çº¿æ€§å¢é•¿'
    ],
    solutions: [
      {
        title: 'KV ç¼“å­˜ä¼˜åŒ–',
        description: 'ä¿æŒå‰ç¼€ç¨³å®šï¼Œåªè¿½åŠ ä¸ä¿®æ”¹ï¼Œæé«˜ç¼“å­˜å‘½ä¸­ç‡ï¼Œé™ä½ 90% æˆæœ¬ã€‚'
      },
      {
        title: 'å¤–éƒ¨è®°å¿†',
        description: 'å¤§å†…å®¹å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼Œä¸Šä¸‹æ–‡åªä¿ç•™å¼•ç”¨å’Œè·¯å¾„ã€‚'
      },
      {
        title: 'æ™ºèƒ½å‹ç¼©',
        description: 'ä½¿ç”¨æ‘˜è¦ã€é€‰æ‹©æ€§ä¿ç•™ã€è¯­ä¹‰å‹ç¼©ç­‰æŠ€æœ¯å‡å°‘ä¸Šä¸‹æ–‡é•¿åº¦ã€‚'
      }
    ],
    progress: 60,
    resources: [
      { title: 'ä¸Šä¸‹æ–‡å·¥ç¨‹æŒ‡å—', url: '#' },
      { title: 'Manus æœ€ä½³å®è·µ', url: '#' }
    ]
  },
  {
    title: 'å·¥å…·ä½¿ç”¨',
    icon: 'ğŸ”§',
    difficulty: 4,
    description: 'Agent éœ€è¦ä»ä¼—å¤šå·¥å…·ä¸­é€‰æ‹©æ­£ç¡®çš„å·¥å…·ï¼Œå¹¶æ­£ç¡®è°ƒç”¨å®ƒä»¬ã€‚å·¥å…·é€‰æ‹©é”™è¯¯æˆ–è°ƒç”¨å¤±è´¥éƒ½ä¼šå¯¼è‡´ä»»åŠ¡å¤±è´¥ã€‚',
    reasons: [
      'å·¥å…·æ•°é‡å¤šï¼Œé€‰æ‹©å›°éš¾',
      'å·¥å…·å‚æ•°å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™',
      'å·¥å…·è°ƒç”¨å¤±è´¥éœ€è¦æ¢å¤',
      'å·¥å…·ä¹‹é—´å¯èƒ½å­˜åœ¨ä¾èµ–å…³ç³»'
    ],
    solutions: [
      {
        title: 'Logits é®è”½',
        description: 'ä½¿ç”¨å‰ç¼€é™åˆ¶æ¨¡å‹åªèƒ½è°ƒç”¨ç‰¹å®šå·¥å…·ï¼Œé¿å…é€‰æ‹©é”™è¯¯çš„å·¥å…·ã€‚'
      },
      {
        title: 'å·¥å…·åˆ†ç»„',
        description: 'å°†å·¥å…·æŒ‰åŠŸèƒ½åˆ†ç±»ï¼ˆå¦‚ browser_ã€shell_ï¼‰ï¼Œä¾¿äºé€‰æ‹©å’Œç®¡ç†ã€‚'
      },
      {
        title: 'é”™è¯¯æ¢å¤',
        description: 'ä¿ç•™å¤±è´¥å°è¯•åœ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œè®© Agent ä»é”™è¯¯ä¸­å­¦ä¹ ã€‚'
      }
    ],
    progress: 70,
    resources: [
      { title: 'Function Calling æŒ‡å—', url: '#' },
      { title: 'å·¥å…·è®¾è®¡æœ€ä½³å®è·µ', url: '#' }
    ]
  },
  {
    title: 'è®°å¿†ç³»ç»Ÿ',
    icon: 'ğŸ’¾',
    difficulty: 4,
    description: 'Agent éœ€è¦è®°ä½å†å²ä¿¡æ¯ã€å­¦ä¹ ç»éªŒã€è¯†åˆ«æ¨¡å¼ã€‚è®¾è®¡ä¸€ä¸ªé«˜æ•ˆçš„è®°å¿†ç³»ç»Ÿå¯¹ Agent çš„é•¿æœŸæ€§èƒ½è‡³å…³é‡è¦ã€‚',
    reasons: [
      'éœ€è¦åŒºåˆ†å³æ—¶ã€çŸ­æœŸã€é•¿æœŸè®°å¿†',
      'ä¿¡æ¯æ£€ç´¢å’Œæ›´æ–°çš„æ•ˆç‡',
      'è®°å¿†çš„å‡†ç¡®æ€§å’Œç›¸å…³æ€§',
      'è·¨ä»»åŠ¡çš„çŸ¥è¯†è¿ç§»'
    ],
    solutions: [
      {
        title: 'ä¸‰å±‚è®°å¿†æ¶æ„',
        description: 'å³æ—¶ä¸Šä¸‹æ–‡ï¼ˆå½“å‰å¯¹è¯ï¼‰+ çŸ­æœŸè®°å¿†ï¼ˆä¼šè¯çº§ï¼‰+ é•¿æœŸè®°å¿†ï¼ˆæŒä¹…åŒ–ï¼‰ã€‚'
      },
      {
        title: 'å‘é‡æ£€ç´¢',
        description: 'ä½¿ç”¨åµŒå…¥å’Œå‘é‡æ•°æ®åº“å®ç°è¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢ã€‚'
      },
      {
        title: 'è®°å¿†æ•´åˆ',
        description: 'å®šæœŸå°†çŸ­æœŸè®°å¿†ä¸­çš„é‡è¦ä¿¡æ¯è½¬ç§»åˆ°é•¿æœŸè®°å¿†ã€‚'
      }
    ],
    progress: 50,
    resources: [
      { title: 'RAG æŠ€æœ¯', url: '#' },
      { title: 'å‘é‡æ•°æ®åº“æŒ‡å—', url: '#' }
    ]
  },
  {
    title: 'é”™è¯¯å¤„ç†',
    icon: 'âš ï¸',
    difficulty: 3,
    description: 'Agent åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šé‡åˆ°å„ç§é”™è¯¯ï¼šå·¥å…·å¤±è´¥ã€ç½‘ç»œè¶…æ—¶ã€æ— æ•ˆå“åº”ç­‰ã€‚å¦‚ä½•ä¼˜é›…åœ°å¤„ç†è¿™äº›é”™è¯¯æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚',
    reasons: [
      'é”™è¯¯ç±»å‹å¤šæ ·',
      'éœ€è¦åŒºåˆ†å¯æ¢å¤å’Œä¸å¯æ¢å¤çš„é”™è¯¯',
      'é”™è¯¯å¯èƒ½çº§è”ä¼ æ’­',
      'é‡è¯•ç­–ç•¥éœ€è¦ä¼˜åŒ–'
    ],
    solutions: [
      {
        title: 'ä¿ç•™é”™è¯¯ä¿¡æ¯',
        description: 'å°†å¤±è´¥çš„å°è¯•ä¿ç•™åœ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œè®© Agent å­¦ä¹ å¹¶é¿å…é‡å¤é”™è¯¯ã€‚'
      },
      {
        title: 'é‡è¯•æœºåˆ¶',
        description: 'å¯¹äºå¯æ¢å¤çš„é”™è¯¯ï¼Œå®ç°æŒ‡æ•°é€€é¿çš„é‡è¯•ç­–ç•¥ã€‚'
      },
      {
        title: 'å›æ»šå’Œæ¢å¤',
        description: 'æ”¯æŒä»»åŠ¡çŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤ï¼Œé¿å…å®Œå…¨é‡æ–°å¼€å§‹ã€‚'
      }
    ],
    progress: 65,
    resources: [
      { title: 'é”™è¯¯å¤„ç†æœ€ä½³å®è·µ', url: '#' },
      { title: 'å®¹é”™è®¾è®¡æ¨¡å¼', url: '#' }
    ]
  },
  {
    title: 'å®‰å…¨é˜²æŠ¤',
    icon: 'ğŸ›¡ï¸',
    difficulty: 5,
    description: 'Agent å…·æœ‰æ‰§è¡Œèƒ½åŠ›ï¼Œå¦‚æœè¢«æ¶æ„åˆ©ç”¨å¯èƒ½é€ æˆä¸¥é‡åæœã€‚æç¤ºæ³¨å…¥ã€å·¥å…·æ»¥ç”¨ã€æ•°æ®æ³„éœ²éƒ½æ˜¯éœ€è¦é˜²èŒƒçš„å®‰å…¨é£é™©ã€‚',
    reasons: [
      'æç¤ºæ³¨å…¥æ”»å‡»éš¾ä»¥æ£€æµ‹',
      'Agent å¯èƒ½è¢«è¯±å¯¼æ‰§è¡Œå±é™©æ“ä½œ',
      'æ•æ„Ÿä¿¡æ¯å¯èƒ½æ³„éœ²',
      'æ”»å‡»é¢å¹¿ï¼Œéš¾ä»¥å…¨é¢é˜²æŠ¤'
    ],
    solutions: [
      {
        title: 'è¾“å…¥æ¸…ç†',
        description: 'ä¸¥æ ¼æ¸…ç†å’ŒéªŒè¯ç”¨æˆ·è¾“å…¥ï¼Œåˆ†ç¦»ç³»ç»Ÿå’Œç”¨æˆ·æ¶ˆæ¯ã€‚'
      },
      {
        title: 'æƒé™æ§åˆ¶',
        description: 'ä½¿ç”¨ç™½åå•é™åˆ¶å·¥å…·è®¿é—®ï¼Œæ•æ„Ÿæ“ä½œéœ€è¦äºŒæ¬¡ç¡®è®¤ã€‚'
      },
      {
        title: 'æ²™ç®±ç¯å¢ƒ',
        description: 'åœ¨éš”ç¦»çš„æ²™ç®±ä¸­æ‰§è¡Œå±é™©æ“ä½œï¼Œé™åˆ¶èµ„æºè®¿é—®ã€‚'
      },
      {
        title: 'è¾“å‡ºè¿‡æ»¤',
        description: 'è¿‡æ»¤æ•æ„Ÿä¿¡æ¯ï¼ŒåŠ å¯†å­˜å‚¨æ•°æ®ï¼Œå®šæœŸå®¡è®¡æ—¥å¿—ã€‚'
      }
    ],
    progress: 55,
    resources: [
      { title: 'AI å®‰å…¨æŒ‡å—', url: '#' },
      { title: 'OWASP LLM Top 10', url: '#' }
    ]
  }
]
</script>

<style scoped>
.agent-challenges-demo {
  border: 1px solid var(--vp-c-divider);
  border-radius: 12px;
  padding: 24px;
  background: var(--vp-c-bg-soft);
  margin: 24px 0;
}

.challenges-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  margin-bottom: 32px;
}

.challenge-card {
  background: var(--vp-c-bg);
  border: 2px solid var(--vp-c-divider);
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s;
  text-align: center;
}

.challenge-card:hover {
  border-color: var(--vp-c-brand);
  transform: translateY(-4px);
  box-shadow: 0 4px 20px rgba(66, 153, 225, 0.2);
}

.challenge-card.active {
  border-color: var(--vp-c-brand);
  background: var(--vp-c-bg-soft);
}

.challenge-icon {
  font-size: 2.5rem;
  margin-bottom: 12px;
}

.challenge-title {
  font-weight: bold;
  color: var(--vp-c-text-1);
  margin-bottom: 8px;
  font-size: 1.1rem;
}

.challenge-level {
  display: flex;
  justify-content: center;
  gap: 2px;
}

.difficulty-star {
  font-size: 0.8rem;
}

.challenge-detail {
  background: var(--vp-c-bg);
  border-radius: 12px;
  padding: 24px;
}

.detail-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid var(--vp-c-divider);
}

.detail-icon {
  font-size: 2.5rem;
}

.detail-header h3 {
  margin: 0;
  color: var(--vp-c-brand);
  font-size: 1.5rem;
}

.detail-sections {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.detail-section h4 {
  margin: 0 0 12px 0;
  color: var(--vp-c-text-1);
  font-size: 1.1rem;
}

.detail-section p {
  color: var(--vp-c-text-2);
  line-height: 1.7;
  margin: 0;
}

.detail-section ul {
  margin: 0;
  padding-left: 20px;
  list-style: none;
}

.detail-section li {
  padding: 4px 0;
  color: var(--vp-c-text-2);
  position: relative;
}

.detail-section li::before {
  content: 'â€¢';
  position: absolute;
  left: -16px;
  color: var(--vp-c-brand);
  font-weight: bold;
}

.solutions {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.solution-item {
  padding: 16px;
  background: var(--vp-c-bg-soft);
  border-radius: 8px;
  border-left: 4px solid var(--vp-c-brand);
}

.solution-title {
  font-weight: bold;
  margin-bottom: 4px;
  color: var(--vp-c-text-1);
}

.solution-desc {
  color: var(--vp-c-text-2);
  font-size: 0.95rem;
  line-height: 1.6;
}

.progress-item {
  display: grid;
  grid-template-columns: 100px 1fr 60px;
  gap: 12px;
  align-items: center;
}

.progress-label {
  font-weight: 600;
  color: var(--vp-c-text-2);
}

.progress-bar {
  height: 24px;
  background: var(--vp-c-bg-soft);
  border-radius: 12px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--vp-c-brand), var(--vp-c-brand-light));
  border-radius: 12px;
  transition: width 0.5s ease;
}

.progress-value {
  font-weight: bold;
  color: var(--vp-c-brand);
  text-align: right;
}

.resources {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.resource-link {
  padding: 10px 20px;
  background: var(--vp-c-brand);
  color: white;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.2s;
}

.resource-link:hover {
  background: var(--vp-c-brand-dark);
  transform: translateY(-2px);
}
</style>
