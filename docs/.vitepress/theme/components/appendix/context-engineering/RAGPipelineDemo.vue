<template>
  <div class="rag-pipeline-demo">
    <div class="pipeline-title">ğŸ”„ RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ) å·¥ä½œæµç¨‹</div>

    <div class="pipeline-flow">
      <!-- Step 1: Query -->
      <div class="flow-step">
        <div class="step-number">1</div>
        <div class="step-content">
          <div class="step-icon">â“</div>
          <div class="step-title">ç”¨æˆ·æé—®</div>
          <div class="step-desc">"ä»€ä¹ˆæ˜¯ RAGï¼Ÿ"</div>
        </div>
      </div>

      <div class="flow-arrow">â†’</div>

      <!-- Step 2: Retrieve -->
      <div class="flow-step">
        <div class="step-number">2</div>
        <div class="step-content">
          <div class="step-icon">ğŸ”</div>
          <div class="step-title">æ£€ç´¢ç›¸å…³æ–‡æ¡£</div>
          <div class="step-desc">ä»çŸ¥è¯†åº“æ‰¾åˆ°æœ€ç›¸å…³çš„ 3-5 ç¯‡æ–‡ç« </div>
        </div>
      </div>

      <div class="flow-arrow">â†’</div>

      <!-- Step 3: Augment -->
      <div class="flow-step">
        <div class="step-number">3</div>
        <div class="step-content">
          <div class="step-icon">ğŸ“</div>
          <div class="step-title">å¢å¼ºæç¤ºè¯</div>
          <div class="step-desc">å°†æ–‡æ¡£å†…å®¹æ’å…¥åˆ°æç¤ºè¯ä¸­</div>
        </div>
      </div>

      <div class="flow-arrow">â†’</div>

      <!-- Step 4: Generate -->
      <div class="flow-step highlight">
        <div class="step-number">4</div>
        <div class="step-content">
          <div class="step-icon">ğŸ¤–</div>
          <div class="step-title">ç”Ÿæˆå›ç­”</div>
          <div class="step-desc">åŸºäºæ£€ç´¢åˆ°çš„ä¿¡æ¯ç”Ÿæˆç­”æ¡ˆ</div>
        </div>
      </div>
    </div>

    <div class="example">
      <div class="example-header">ğŸ“„ å¢å¼ºåçš„æç¤ºè¯ç¤ºä¾‹</div>
      <div class="example-content">
        <div class="example-section">
          <span class="section-label">ç³»ç»Ÿæç¤ºï¼š</span>
          <span class="section-text">ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯åŠ©æ‰‹ã€‚</span>
        </div>
        <div class="example-section">
          <span class="section-label">æ£€ç´¢åˆ°çš„æ–‡æ¡£ï¼š</span>
          <div class="retrieved-docs">
            <div class="doc-item">ğŸ“„ Doc 1: "RAG æ˜¯ä¸€ç§ç»“åˆæ£€ç´¢å’Œç”Ÿæˆçš„æŠ€æœ¯..."</div>
            <div class="doc-item">ğŸ“„ Doc 2: "RAG çš„ä¼˜åŠ¿æ˜¯å‡å°‘å¹»è§‰ã€æé«˜å‡†ç¡®æ€§..."</div>
            <div class="doc-item">ğŸ“„ Doc 3: "å¸¸è§çš„ RAG æ¡†æ¶åŒ…æ‹¬ LangChain..."</div>
          </div>
        </div>
        <div class="example-section">
          <span class="section-label">ç”¨æˆ·é—®é¢˜ï¼š</span>
          <span class="section-text">ä»€ä¹ˆæ˜¯ RAGï¼Ÿ</span>
        </div>
      </div>
    </div>

    <div class="benefits">
      <div class="benefit-item">
        <span class="benefit-icon">âœ…</span>
        <span><strong>å‡å°‘å¹»è§‰</strong>ï¼šåŸºäºçœŸå®æ–‡æ¡£å›ç­”ï¼Œä¸çç¼–</span>
      </div>
      <div class="benefit-item">
        <span class="benefit-icon">ğŸ“š</span>
        <span><strong>çŸ¥è¯†æ›´æ–°</strong>ï¼šæ— éœ€é‡æ–°è®­ç»ƒï¼Œåªéœ€æ›´æ–°æ–‡æ¡£åº“</span>
      </div>
      <div class="benefit-item">
        <span class="benefit-icon">ğŸ¯</span>
        <span><strong>ç­”æ¡ˆå¯æº¯æº</strong>ï¼šå¯ä»¥çŸ¥é“ç­”æ¡ˆæ¥è‡ªå“ªç¯‡æ–‡æ¡£</span>
      </div>
      <div class="benefit-item">
        <span class="benefit-icon">ğŸ’°</span>
        <span><strong>é™ä½æˆæœ¬</strong>ï¼šä¸éœ€è¦é¢‘ç¹å¾®è°ƒæ¨¡å‹</span>
      </div>
    </div>
  </div>
</template>

<style scoped>
.rag-pipeline-demo {
  border: 1px solid var(--vp-c-divider);
  border-radius: 8px;
  padding: 20px;
  background: var(--vp-c-bg-soft);
  margin: 20px 0;
}

.pipeline-title {
  font-size: 1.2rem;
  font-weight: bold;
  color: var(--vp-c-text-1);
  margin-bottom: 20px;
  text-align: center;
}

.pipeline-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-bottom: 25px;
  flex-wrap: wrap;
}

.flow-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  flex: 1;
  min-width: 120px;
}

.step-number {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--vp-c-bg-mute);
  color: var(--vp-c-text-1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 0.9rem;
}

.flow-step.highlight .step-number {
  background: var(--vp-c-brand);
  color: white;
}

.step-content {
  background: var(--vp-c-bg);
  border: 1px solid var(--vp-c-divider);
  border-radius: 6px;
  padding: 12px;
  text-align: center;
  width: 100%;
}

.flow-step.highlight .step-content {
  border-color: var(--vp-c-brand);
  background: rgba(var(--vp-c-brand-rgb), 0.1);
}

.step-icon {
  font-size: 1.5rem;
  margin-bottom: 5px;
}

.step-title {
  font-size: 0.85rem;
  color: var(--vp-c-text-1);
  font-weight: bold;
  margin-bottom: 5px;
}

.step-desc {
  font-size: 0.75rem;
  color: var(--vp-c-text-3);
  line-height: 1.4;
}

.flow-arrow {
  font-size: 1.5rem;
  color: var(--vp-c-text-3);
}

.example {
  background: var(--vp-c-bg);
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 20px;
}

.example-header {
  font-size: 0.9rem;
  font-weight: bold;
  color: var(--vp-c-text-1);
  margin-bottom: 12px;
}

.example-content {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.example-section {
  font-size: 0.85rem;
}

.section-label {
  color: var(--vp-c-brand);
  font-weight: 600;
  display: block;
  margin-bottom: 5px;
}

.section-text {
  color: var(--vp-c-text-2);
}

.retrieved-docs {
  background: var(--vp-c-bg-soft);
  border-radius: 4px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.doc-item {
  font-size: 0.8rem;
  color: var(--vp-c-text-3);
  padding: 6px;
  background: var(--vp-c-bg);
  border-radius: 3px;
  border-left: 3px solid #fbbf24;
}

.benefits {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

@media (max-width: 768px) {
  .benefits {
    grid-template-columns: 1fr;
  }
}

.benefit-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  background: var(--vp-c-bg);
  padding: 12px;
  border-radius: 6px;
  font-size: 0.9rem;
  color: var(--vp-c-text-2);
  line-height: 1.5;
}

.benefit-icon {
  font-size: 1.3rem;
}
</style>
